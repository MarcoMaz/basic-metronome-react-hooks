(this["webpackJsonpbasic-metronome-react-hooks"]=this["webpackJsonpbasic-metronome-react-hooks"]||[]).push([[0],{15:function(e,t,a){},16:function(e,t,a){},19:function(e,t,a){"use strict";a.r(t);var n,s,c,i,r,l,u=a(0),m=a(1),o=a.n(m),b=a(7),j=a.n(b),d=(a(15),a(8)),p=a(5),_=(a(16),a(20)),O=a(21),v=0,x=0,h=function(){var e=Object(m.useState)(!1),t=Object(p.a)(e,2),a=t[0],o=t[1],b=Object(m.useState)(100),j=Object(p.a)(b,2),h=j[0],f=j[1],g=Object(m.useState)(10),N=Object(p.a)(g,2),S=N[0],y=N[1],B=function(e){return 6e4/e}(h)/1e3,C=B/2,T="-active";r=document.getElementsByClassName("Circles_beat"),Object(m.useEffect)((function(){n=new AudioContext,i=S-1;return a?(n.resume(),clearInterval(s),s=setInterval((function(){n.currentTime-v>=C&&(v=x=v+B,function(e,t){null!==(l=document.querySelector(".-active"))&&l.classList.remove(T),c>0?r[c-1].classList.remove(T):r[i].classList.remove(T);var a=e.createOscillator();a.connect(e.destination),a.start(t),a.stop(t+1/16),a.frequency.value=0===c?"800":"400",Number(r[c].dataset.index)===c&&r[c].classList.add(T),c===i?c=0:c+=1}(n,x))}),B/25)):(n.suspend(),clearInterval(s),v=0,x=0,c=0),function(){return clearInterval(s)}}));return Object(u.jsxs)("div",{id:"metronome",children:[Object(u.jsx)("div",{className:"Circles",children:Object(d.a)(Array(S)).map((function(e,t){return Object(u.jsx)("div",{"data-index":t,className:"Circles_beat"+(a?" Circles_beat--plays":"")},t)}))}),Object(u.jsxs)("div",{className:"TimeSignature",children:[Object(u.jsxs)("label",{className:"TimeSignature__label",htmlFor:"TimeSignature__Input",children:[Object(u.jsx)("div",{className:"TimeSignature__label__numerator",children:S}),Object(u.jsx)("hr",{className:"TimeSignature__label__divider"}),Object(u.jsx)("div",{className:"TimeSignature__label__denominator",children:"4"})]}),Object(u.jsx)("input",{className:"TimeSignature__input",id:"TimeSignature__input",type:"range",min:"2",max:"20",step:"1",onChange:function(e){n.suspend(),y(Number(e.target.value)),v=0,x=0,c=0},value:S})]}),Object(u.jsxs)("div",{className:"Bpm",children:[Object(u.jsxs)("label",{className:"Bpm_label",htmlFor:"Bpm_input",children:[h," BPM"]}),Object(u.jsx)("input",{className:"Bpm_input",id:"Bpm_input",type:"range",min:"40",max:"200",step:"1",onChange:function(e){n.suspend(),f(e.target.value),v=0,x=0,c=0},value:h})]}),Object(u.jsx)("button",{className:"PlayButton",onClick:function(){return o(!0!==a)},children:a?Object(u.jsx)(O.a,{}):Object(u.jsx)(_.a,{})})]})};j.a.render(Object(u.jsx)(o.a.StrictMode,{children:Object(u.jsx)(h,{})}),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.49b8a294.chunk.js.map