(this["webpackJsonpbasic-metronome-react-hooks"]=this["webpackJsonpbasic-metronome-react-hooks"]||[]).push([[0],{15:function(e,t,n){},16:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var a,c,s,i,r,l,u=n(0),o=n(1),m=n.n(o),b=n(7),j=n.n(b),d=(n(15),n(8)),p=n(5),_=(n(16),n(20)),v=n(21),O=0,h=0,x=function(){var e=Object(o.useState)(!1),t=Object(p.a)(e,2),n=t[0],m=t[1],b=Object(o.useState)(100),j=Object(p.a)(b,2),x=j[0],g=j[1],f=Object(o.useState)(10),N=Object(p.a)(f,2),S=N[0],C=N[1],T=function(e){return 6e4/e}(x)/1e3,B=T/2,y="-active";r=document.getElementsByClassName("Circles_beat"),Object(o.useEffect)((function(){a=new AudioContext,i=S-1;return n?(a.resume(),clearInterval(c),c=setInterval((function(){a.currentTime-O>=B&&(O=h=O+T,function(e,t){null!==(l=document.querySelector(".-active"))&&l.classList.remove(y),s>0?r[s-1].classList.remove(y):r[i].classList.remove(y);var n=e.createOscillator();n.connect(e.destination),n.start(t),n.stop(t+1/16),n.frequency.value=0===s?"800":"400",Number(r[s].dataset.index)===s&&r[s].classList.add(y),s===i?s=0:s+=1}(a,h))}),T/25)):(a.suspend(),clearInterval(c),O=0,h=0,s=0),function(){return clearInterval(c)}}));return Object(u.jsxs)("div",{id:"metronome",children:[Object(u.jsx)("div",{className:"Circles",children:Object(d.a)(Array(S)).map((function(e,t){return Object(u.jsx)("div",{"data-index":t,className:"Circles_beat"+(n?" Circles_beat--plays":"")},t)}))}),Object(u.jsxs)("div",{className:"TimeSignature",children:[Object(u.jsxs)("label",{className:"TimeSignature__label",htmlFor:"TimeSignature__Input",children:[Object(u.jsx)("div",{className:"TimeSignature__label__numerator",children:S}),Object(u.jsx)("hr",{className:"TimeSignature__label__divider"}),Object(u.jsx)("div",{className:"TimeSignature__label__denominator",children:"4"})]}),Object(u.jsx)("input",{className:"TimeSignature__input",id:"TimeSignature__input",type:"range",min:"2",max:"20",step:"1",onChange:function(e){a.suspend(),C(Number(e.target.value)),O=0,h=0,s=0},value:S})]}),Object(u.jsxs)("div",{className:"Bpm",children:[Object(u.jsxs)("label",{className:"Bpm_label",htmlFor:"Bpm_input",children:[x," BPM"]}),Object(u.jsx)("input",{className:"Bpm_input",id:"Bpm_input",type:"range",min:"40",max:"200",step:"1",onChange:function(e){a.suspend(),g(e.target.value),O=0,h=0,s=0},value:x})]}),Object(u.jsx)("button",{className:"PlayButton",onClick:function(){return m(!0!==n)},children:n?Object(u.jsx)(v.a,{}):Object(u.jsx)(_.a,{})})]})},g=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,22)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),s(e),i(e)}))};j.a.render(Object(u.jsx)(m.a.StrictMode,{children:Object(u.jsx)(x,{})}),document.getElementById("root")),g()}},[[19,1,2]]]);
//# sourceMappingURL=main.cf07897e.chunk.js.map