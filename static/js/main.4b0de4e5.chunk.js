(this["webpackJsonpbasic-metronome-react-hooks"]=this["webpackJsonpbasic-metronome-react-hooks"]||[]).push([[0],{15:function(e,n,t){},16:function(e,n,t){},19:function(e,n,t){"use strict";t.r(n);var a,i,c,o,r,s,l=t(0),u=t(1),d=t.n(u),m=t(7),b=t.n(m),v=(t(15),t(8)),h=t(5),f=(t(16),t(20)),j=t(21),g=0,p=0,O=function(){var e=Object(u.useState)(!1),n=Object(h.a)(e,2),t=n[0],d=n[1],m=Object(u.useState)(100),b=Object(h.a)(m,2),O=b[0],_=b[1],w=Object(u.useState)(10),x=Object(h.a)(w,2),k=x[0],S=x[1],N=function(e){return 6e4/e}(O)/1e3,y=N/2,C="-active";r=document.getElementsByClassName("Circles_beat"),Object(u.useEffect)((function(){a=new AudioContext,o=k-1;return t?(a.resume(),clearInterval(i),i=setInterval((function(){a.currentTime-g>=y&&(g=p=g+N,function(e,n){null!==(s=document.querySelector(".-active"))&&s.classList.remove(C),c>0?r[c-1].classList.remove(C):r[o].classList.remove(C);var t=e.createOscillator();t.connect(e.destination),t.start(n),t.stop(n+1/16),t.frequency.value=0===c?"800":"400",Number(r[c].dataset.index)===c&&r[c].classList.add(C),c===o?c=0:c+=1}(a,p))}),N/25)):(a.suspend(),clearInterval(i),g=0,p=0,c=0),function(){return clearInterval(i)}}));return Object(l.jsxs)("div",{id:"metronome",children:[Object(l.jsx)("div",{className:"Circles",children:Object(v.a)(Array(k)).map((function(e,n){return Object(l.jsx)("div",{"data-index":n,className:"Circles_beat"+(t?" Circles_beat--plays":"")},n)}))}),Object(l.jsxs)("div",{className:"TimeSignature",children:[Object(l.jsxs)("label",{className:"TimeSignature__label",htmlFor:"TimeSignature__Input",children:[Object(l.jsx)("div",{className:"TimeSignature__label__numerator",children:k}),Object(l.jsx)("hr",{className:"TimeSignature__label__divider"}),Object(l.jsx)("div",{className:"TimeSignature__label__denominator",children:"4"})]}),Object(l.jsx)("input",{className:"TimeSignature__input",id:"TimeSignature__input",type:"range",min:"2",max:"20",step:"1",onChange:function(e){a.suspend(),S(Number(e.target.value)),g=0,p=0,c=0},value:k})]}),Object(l.jsxs)("div",{className:"Bpm",children:[Object(l.jsxs)("label",{className:"Bpm_label",htmlFor:"Bpm_input",children:[O," BPM"]}),Object(l.jsx)("input",{className:"Bpm_input",id:"Bpm_input",type:"range",min:"40",max:"200",step:"1",onChange:function(e){a.suspend(),_(e.target.value),g=0,p=0,c=0},value:O})]}),Object(l.jsx)("button",{className:"PlayButton",onClick:function(){return d(!0!==t)},children:t?Object(l.jsx)(j.a,{}):Object(l.jsx)(f.a,{})})]})},_=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function w(e,n){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var x=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,22)).then((function(n){var t=n.getCLS,a=n.getFID,i=n.getFCP,c=n.getLCP,o=n.getTTFB;t(e),a(e),i(e),c(e),o(e)}))};b.a.render(Object(l.jsx)(d.a.StrictMode,{children:Object(l.jsx)(O,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/basic-metronome-react-hooks",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var n="".concat("/basic-metronome-react-hooks","/service-worker.js");_?(!function(e,n){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var a=t.headers.get("content-type");404===t.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):w(e,n)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(n,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):w(n,e)}))}}(),x()}},[[19,1,2]]]);
//# sourceMappingURL=main.4b0de4e5.chunk.js.map